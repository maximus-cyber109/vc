"use client";

import { use } from "react";
import Link from "next/link";
import {
  Calendar,
  User,
  Clock,
  Share2,
  ArrowLeft,
  Facebook,
  Twitter,
  Linkedin,
  Heart,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import Header from "@/components/Header";
import Footer from "@/components/Footer";

export default function BlogPostPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = use(params);

  // Mock blog post data
  const blogPost = {
    id,
    title: "10 Essential Nutrients Every Dog Needs for Optimal Health",
    excerpt:
      "Discover the key vitamins, minerals, and nutrients that keep your dog healthy, energetic, and thriving throughout their life.",
    image: "https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=1200",
    category: "Nutrition",
    author: {
      name: "Dr. Sarah Mitchell",
      title: "Veterinary Nutritionist",
      avatar:
        "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=200",
      bio: "Dr. Mitchell has over 15 years of experience in veterinary nutrition and has helped thousands of pets achieve optimal health through proper diet.",
    },
    date: "2024-03-15",
    readTime: "5 min read",
    content: `
      <p>As a pet parent, you want to ensure your furry friend gets all the nutrition they need to live a long, healthy, and active life. Just like humans, dogs require a balanced diet rich in essential nutrients to support their bodily functions, maintain energy levels, and prevent health issues.</p>

      <p>In this comprehensive guide, we'll explore the 10 most important nutrients your dog needs and how to ensure they're getting adequate amounts through their diet.</p>

      <h2>1. Protein: The Building Block of Life</h2>
      <p>Protein is crucial for building and repairing tissues, producing enzymes and hormones, and supporting immune function. High-quality protein sources include chicken, beef, fish, eggs, and legumes. Adult dogs need at least 18% protein in their diet, while puppies require 22% or more.</p>

      <h2>2. Fats: Essential for Energy and Health</h2>
      <p>Fats provide concentrated energy and help absorb fat-soluble vitamins (A, D, E, and K). Omega-3 and omega-6 fatty acids are particularly important for skin health, coat shine, and brain function. Look for foods containing fish oil, flaxseed, or chicken fat.</p>

      <h2>3. Carbohydrates: Fuel for Activity</h2>
      <p>While not strictly essential, carbohydrates provide energy and fiber for digestive health. Quality sources include sweet potatoes, brown rice, oats, and vegetables. The fiber in carbohydrates also helps maintain healthy gut bacteria.</p>

      <h2>4. Calcium and Phosphorus: For Strong Bones</h2>
      <p>These minerals work together to build and maintain strong bones and teeth. The ideal calcium-to-phosphorus ratio is about 1.2:1. Dairy products, bone meal, and certain vegetables are good sources of these minerals.</p>

      <h2>5. Vitamins A, D, E, and K: The Fat-Soluble Four</h2>
      <p>These vitamins support vision, bone health, immune function, and blood clotting. They're stored in the body's fat tissues and liver, so consistent dietary intake is important but not as critical as water-soluble vitamins.</p>

      <h2>6. B-Complex Vitamins: Energy and Metabolism</h2>
      <p>B vitamins play crucial roles in energy metabolism, nervous system function, and red blood cell formation. They're water-soluble, meaning they need to be replenished regularly through diet.</p>

      <h2>7. Iron: Oxygen Transport</h2>
      <p>Iron is essential for forming hemoglobin, which carries oxygen throughout the body. Deficiency can lead to anemia and fatigue. Red meat, liver, and certain vegetables are good iron sources.</p>

      <h2>8. Zinc: Immune Function and Healing</h2>
      <p>Zinc supports immune function, wound healing, and protein synthesis. It's found in meat, fish, dairy products, and whole grains.</p>

      <h2>9. Magnesium: Muscle and Nerve Function</h2>
      <p>Magnesium is involved in over 300 enzymatic reactions in the body, including energy production and muscle function. Green vegetables, whole grains, and nuts are good sources.</p>

      <h2>10. Water: The Most Essential Nutrient</h2>
      <p>Water is often overlooked but is the most critical nutrient. Dogs should have constant access to clean, fresh water. Dehydration can quickly become life-threatening, especially in hot weather or during illness.</p>

      <h2>Putting It All Together</h2>
      <p>The best way to ensure your dog gets all these essential nutrients is to feed a high-quality, AAFCO-approved commercial dog food or work with a veterinary nutritionist to create a balanced homemade diet. Always consult with your veterinarian before making significant changes to your dog's diet, especially if they have specific health concerns.</p>

      <p>Remember, every dog is unique, and nutritional needs can vary based on age, size, activity level, and health status. Regular veterinary check-ups and monitoring your dog's weight, energy levels, and overall condition will help ensure they're getting optimal nutrition.</p>
    `,
  };

  const relatedPosts = [
    {
      id: "2",
      title: "How to Recognize and Prevent Common Cat Health Issues",
      image: "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400",
      category: "Health & Wellness",
    },
    {
      id: "8",
      title: "Raw vs. Kibble: Choosing the Right Diet for Your Dog",
      image: "https://images.unsplash.com/photo-1589924691995-400dc9ecc119?w=400",
      category: "Nutrition",
    },
    {
      id: "7",
      title: "Senior Pet Care: Keeping Your Aging Companion Comfortable",
      image: "https://images.unsplash.com/photo-1544568100-847a948585b9?w=400",
      category: "Health & Wellness",
    },
  ];

  return (
    <div className="min-h-screen">
      <Header />

      {/* Back Button */}
      <div className="container mx-auto px-4 py-6">
        <Button asChild variant="ghost" className="gap-2">
          <Link href="/blog">
            <ArrowLeft className="h-4 w-4" />
            Back to Blog
          </Link>
        </Button>
      </div>

      {/* Hero Image */}
      <div className="container mx-auto px-4">
        <div className="relative h-96 rounded-2xl overflow-hidden mb-8">
          <img
            src={blogPost.image}
            alt={blogPost.title}
            className="w-full h-full object-cover"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent" />
          <Badge className="absolute bottom-6 left-6">
            {blogPost.category}
          </Badge>
        </div>
      </div>

      {/* Article Content */}
      <article className="container mx-auto px-4 pb-16">
        <div className="max-w-4xl mx-auto">
          {/* Article Header */}
          <header className="mb-8">
            <h1
              className="text-4xl md:text-5xl font-bold mb-6"
              style={{ fontFamily: "Poppins, sans-serif" }}
            >
              {blogPost.title}
            </h1>

            <div className="flex flex-wrap items-center gap-6 mb-6">
              <div className="flex items-center gap-3">
                <img
                  src={blogPost.author.avatar}
                  alt={blogPost.author.name}
                  className="w-12 h-12 rounded-full object-cover"
                />
                <div>
                  <div className="font-semibold">{blogPost.author.name}</div>
                  <div className="text-sm text-muted-foreground">
                    {blogPost.author.title}
                  </div>
                </div>
              </div>
              <div className="flex items-center gap-4 text-muted-foreground">
                <div className="flex items-center gap-2">
                  <Calendar className="h-4 w-4" />
                  {new Date(blogPost.date).toLocaleDateString("en-US", {
                    month: "long",
                    day: "numeric",
                    year: "numeric",
                  })}
                </div>
                <div className="flex items-center gap-2">
                  <Clock className="h-4 w-4" />
                  {blogPost.readTime}
                </div>
              </div>
            </div>

            {/* Social Share */}
            <div className="flex items-center gap-4 py-4 border-y">
              <span className="text-sm font-medium">Share:</span>
              <div className="flex gap-2">
                <Button size="sm" variant="outline" className="gap-2">
                  <Facebook className="h-4 w-4" />
                  Facebook
                </Button>
                <Button size="sm" variant="outline" className="gap-2">
                  <Twitter className="h-4 w-4" />
                  Twitter
                </Button>
                <Button size="sm" variant="outline" className="gap-2">
                  <Linkedin className="h-4 w-4" />
                  LinkedIn
                </Button>
                <Button size="sm" variant="outline">
                  <Share2 className="h-4 w-4" />
                </Button>
              </div>
            </div>
          </header>

          {/* Article Body */}
          <div
            className="prose prose-lg max-w-none mb-12"
            dangerouslySetInnerHTML={{ __html: blogPost.content }}
            style={{
              lineHeight: "1.8",
            }}
          />

          {/* Author Bio */}
          <div className="bg-muted/50 rounded-xl p-6 mb-12">
            <div className="flex gap-4">
              <img
                src={blogPost.author.avatar}
                alt={blogPost.author.name}
                className="w-20 h-20 rounded-full object-cover flex-shrink-0"
              />
              <div>
                <h3
                  className="text-xl font-bold mb-2"
                  style={{ fontFamily: "Poppins, sans-serif" }}
                >
                  About {blogPost.author.name}
                </h3>
                <p className="text-muted-foreground mb-3">
                  {blogPost.author.bio}
                </p>
                <Button variant="outline" size="sm">
                  View All Posts
                </Button>
              </div>
            </div>
          </div>

          {/* Related Articles */}
          <div>
            <h2
              className="text-3xl font-bold mb-6"
              style={{ fontFamily: "Poppins, sans-serif" }}
            >
              Related Articles
            </h2>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              {relatedPosts.map((post) => (
                <Link
                  key={post.id}
                  href={`/blog/${post.id}`}
                  className="group block"
                >
                  <article className="bg-card rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300">
                    <div className="relative h-40 overflow-hidden">
                      <img
                        src={post.image}
                        alt={post.title}
                        className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                      />
                      <Badge className="absolute top-3 left-3 text-xs">
                        {post.category}
                      </Badge>
                    </div>
                    <div className="p-4">
                      <h3 className="font-bold group-hover:text-primary transition-colors line-clamp-2">
                        {post.title}
                      </h3>
                    </div>
                  </article>
                </Link>
              ))}
            </div>
          </div>
        </div>
      </article>

      {/* CTA Section */}
      <section className="bg-muted/30 py-16">
        <div className="container mx-auto px-4">
          <div className="max-w-3xl mx-auto text-center">
            <h2
              className="text-3xl md:text-4xl font-bold mb-4"
              style={{ fontFamily: "Poppins, sans-serif" }}
            >
              Want More Pet Care Tips?
            </h2>
            <p className="text-lg text-muted-foreground mb-8">
              Subscribe to our newsletter for weekly expert advice, exclusive
              deals, and the latest pet care insights
            </p>
            <div className="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
              <input
                type="email"
                placeholder="Enter your email"
                className="flex-1 px-6 py-3 rounded-lg border border-input focus:outline-none focus:ring-2 focus:ring-primary"
              />
              <Button size="lg">Subscribe</Button>
            </div>
          </div>
        </div>
      </section>

      <Footer />
    </div>
  );
}
